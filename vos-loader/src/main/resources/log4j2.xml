<?xml version="1.0" encoding="UTF-8"?>
<Configuration xmlns="http://logging.apache.org/log4j/2.0/config"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xsi:schemaLocation="http://logging.apache.org/log4j/2.0/config
           https://raw.githubusercontent.com/apache/logging-log4j2/master/log4j-core/src/main/resources/Log4j-config.xsd">
    <Appenders>
        <Console name="StdOut" target="SYSTEM_OUT">
            <PatternLayout pattern="%d{DEFAULT} - [%t]  %-5p %-26.26c{2} - %m\n" />
        </Console>

        <RollingFile name="RollingFile" fileName="vos-loader.log" filePattern="vos-loader-%d{yyyy-MM-dd}-%i.log.gz">

            <PatternLayout pattern="%d{DEFAULT} - [%t]  %-5p %-26.26c{2} - %m\n" />
            <Policies>
                <SizeBasedTriggeringPolicy size="100 MB"/>
                <TimeBasedTriggeringPolicy />
            </Policies>
        </RollingFile>

        <!-- To enable logging to Slack, add a webhookUrl attribute similar to the following to the Slack element
          webhookUrl="https://hooks.slack.com/services/XXXX/YYYY/ZZZZ"-->
        <Slack name="Slack"
               username="vos-loader"> <!--channel="#databus-tools"-->
            <PatternLayout pattern="%-5p - [%t] %-26.26c{2}"/>
            <BurstFilter level="INFO" rate="0.15" maxBurst="4"/>
        </Slack>
    </Appenders>

    <Loggers>

        <Logger name="org.apache.jena" level="debug" />

        <Logger name="org.dbpedia.databus.vosloader" level="info" />

        <Logger name="org.dbpedia.databus.vosloader.reports" level="info" additivity="false">
            <AppenderRef ref="StdOut" />
            <AppenderRef ref="Slack" />
        </Logger>

        <Root level="warn">
            <AppenderRef ref="StdOut"/>
            <AppenderRef ref="RollingFile" />
            <!-- To enable logging to Slack, uncomment the AppenderRef below -->
            <!--<AppenderRef ref="Slack" level="warn"/>-->
        </Root>
    </Loggers>
</Configuration>
